#!/usr/bin/env lua
--/bin/whoami: who am i?

_handler = {}
_handler.signal_handler = function (sig)
    if sig == 'kill' then
        --print("who: recieved SIGKILL")
        return 0
    end
end

function main(args)
    local fsttime = fs.open("/proc/sttime", 'r')
    local ST_TIME = fsttime.readAll()
    fsttime.close()

    local cuser = fs.open("/tmp/current_user", 'r')
    local current_user = cuser.readAll()
    cuser.close()

    print(current_user .. '   :0  ' .. textutils.formatTime(tonumber(ST_TIME), false) .. '  (:0)')
end

main({...})
