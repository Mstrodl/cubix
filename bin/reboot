#!/usr/bin/env lua
--/bin/reboot: wrapper to CC reboot

if os.loadAPI("/lib/debug_manager") then
    debug = _G["debug_manager"]
    debug.debug_write("debug: loaded")
else
    debug.debug_write = print
    debug.debug_write("debug: not loaded")
end

function main(args)
    debug.debug_write("[reboot] rebooting...")
    debug.debug_write("deleting temporary")

    os.runfile("rm /tmp")
    os.runfile("mkdir /tmp")

    os.sleep(1)
    os.reboot()
end
