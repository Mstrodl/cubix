#!/usr/bin/env lua
--/bin/touch: creates empty files

_handler = {}
_handler.signal_handler = function (sig)
    if sig == 'kill' then
        --print("touch: recieved SIGKILL")
        return 0
    end
end

function main(args)
    local d = args[1]

    cpth = fs.open("/tmp/current_path", 'r')
    cpath = cpth.readAll()
    cpth.close()

    if d[1] == '/' then
        fs.open(d, 'a').close()
    elseif not fs.exists(fs.combine(cpath, d)) then
        fs.open(fs.combine(cpath, d), 'a').close()
    end
end


