#!/usr/bin/env lua
--/bin/touch: creates empty files

_handler = {}
_handler.signal_handler = function (sig)
    if sig == 'kill' then
        --print("touch: recieved SIGKILL")
        return 0
    end
end

function main(args)
    local d = args[1]

    local cpth = fs.open("/tmp/current_path", 'r')
    local cpath = cpth.readAll()
    cpth.close()

    function check_slash(s) return string.sub(s, 0, 1) == '/' end
    if check_slash(d) then
        fs.open(d, 'a').close()
    elseif not fs.exists(fs.combine(cpath, d)) then
        fs.open(fs.combine(cpath, d), 'a').close()
    end
end


