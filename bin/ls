#!/usr/bin/env lua
--/bin/ls : wrapper to CC "ls"

local p = ...

cpth = fs.open("/tmp/current_path", 'r')
cpath = cpth.readAll()
cpth.close()

if p == nil then
    shell.run("ls "..cpath)
elseif fs.exists(p) then
    shell.run("ls "..p)
elseif fs.exists(fs.combine(cpath, p)) then
    shell.run("ls "..fs.combine(cpath, p))
end

