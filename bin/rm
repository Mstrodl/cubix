#!/usr/bin/env lua
--/bin/rm: removes files and folders

_handler = {}
_handler.signal_handler = function(sig)
    if sig == 'kill' then
        --print("rm: SIGKILL")
        return 0
    end
end

function main(args)
    --TODO: multiple args
    local cpath = fs.open("/tmp/current_path", 'r')
    local current_path = cpath.readAll()
    cpath.close()

    local f = args[1]

    if fs.exists(f) then
        fs.delete(f)
    elseif fs.exists(fs.combine(current_path, f)) then
        fs.delete(fs.combine(current_path, f))
    else
        os.ferror("rm: node not found")
    end
end
